{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","searchTerm","handleSearchInput","value","onChange","placeholder","PersonForm","addPerson","handleNameInput","handleNumberInput","newName","newNumber","onSubmit","type","Persons","persons","deletePerson","setMessage","personSearch","filter","person","name","toLowerCase","includes","map","key","number","onClick","window","confirm","id","text","setTimeout","handleDelete","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","className","App","useState","setPersons","setNewName","setNewNumber","setSearchTerm","useEffect","personService","initialPersons","event","preventDefault","target","e","nameObject","isDuplicate","some","personToUpdate","find","updatedPerson","returnedPerson","console","log","p","catch","error","personsList","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c44a56e7.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({searchTerm, handleSearchInput}) => {\n    return (\n        <>\n          filter shown with{' '}\n      <input\n        value={searchTerm}\n        onChange={handleSearchInput}\n        placeholder=\"search...\"\n      />\n        </>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({addPerson, handleNameInput, handleNumberInput, newName, newNumber}) => {\n\n    return (\n        <>\n         <form onSubmit={addPerson}>\n        <div>\n          name:{' '}\n          <input\n            placeholder=\"add name...\"\n            value={newName}\n            onChange={handleNameInput}\n          />\n          <br />\n          number:{' '}\n          <input\n            placeholder=\"add number...\"\n            value={newNumber}\n            onChange={handleNumberInput}\n          />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n        </>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Persons = ({ persons, searchTerm, deletePerson, setMessage }) => {\n  const personSearch = persons.filter((person) => {\n    if (!searchTerm) return person\n    if (person.name.toLowerCase().includes(searchTerm.toLowerCase())) {\n      return person\n    }\n    return false\n  })\n\n  const handleDelete = (person) => {\n    if (window.confirm(`Delete ${person.name}? `)) {\n      deletePerson(person.id)\n      setMessage({ text: `${person.name} has been deleted.`, type: 'message' })\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n    }\n    return\n  }\n  return (\n    <>\n      {personSearch.map((person) => {\n        return (\n          <div key={person.name}>\n            {person.name} {person.number}{' '}\n            <button onClick={() => handleDelete(person)}>delete</button>\n          </div>\n        )\n      })}\n    </>\n  )\n}\n\nexport default Persons\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then((response) => response.data)\n}\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then((response) => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then((response) => response.data)\n}\n\nconst deleteRecord = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then((response) => response.data)\n}\n\nexport default {\n  getAll,\n  create,\n  update,\n  deleteRecord,\n}\n","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className={message.type === 'message' ? 'message' : 'error'}>\n      {message.text}\n    </div>\n  )\n}\n\nexport default Notification\n","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport personService from './services/persons'\r\nimport Notification from './components/Notification'\r\nimport './App.css'\r\n\r\nfunction App() {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [searchTerm, setSearchTerm] = useState('')\r\n  const [message, setMessage] = useState(null)\r\n\r\n  useEffect(() => {\r\n    personService.getAll().then((initialPersons) => setPersons(initialPersons))\r\n  }, [])\r\n\r\n  const addPerson = (e, id) => {\r\n    e.preventDefault()\r\n    const nameObject = {\r\n      name: newName,\r\n      number: newNumber,\r\n    }\r\n\r\n    const isDuplicate = persons.some(\r\n      (person) => person.name.toLowerCase() === newName.toLowerCase()\r\n    )\r\n    const personToUpdate = persons.find(\r\n      (person) => person.name.toLowerCase() === newName.toLowerCase()\r\n    )\r\n    const updatedPerson = { ...personToUpdate, number: newNumber }\r\n    if (isDuplicate) {\r\n      if (\r\n        window.confirm(\r\n          `${newName} is already in the phonebook, replace number? `\r\n        )\r\n      ) {\r\n        personService\r\n          .update(personToUpdate.id, updatedPerson)\r\n          .then((returnedPerson) => {\r\n            console.log('returnedPerson', returnedPerson)\r\n            persons.find((person) => {\r\n              if (person.id === returnedPerson.id) {\r\n                const p = { ...person, number: returnedPerson.number }\r\n                setPersons(\r\n                  persons.map((person) => (person.id !== p.id ? person : p))\r\n                )\r\n                setNewName('')\r\n                setNewNumber('')\r\n                setMessage({\r\n                  text: `${newName} has been updated `,\r\n                  type: 'message',\r\n                })\r\n                setTimeout(() => {\r\n                  setMessage(null)\r\n                }, 5000)\r\n                return null\r\n              }\r\n\r\n              return null\r\n            })\r\n          })\r\n          .catch((error) => {\r\n            console.log('personToUpdate.name', personToUpdate.name)\r\n            console.log('error', error)\r\n            setMessage({\r\n              text: `${personToUpdate.name} has already been removed from server `,\r\n              type: 'error',\r\n            })\r\n            setTimeout(() => {\r\n              setMessage(null)\r\n            }, 5000)\r\n          })\r\n\r\n        return\r\n      }\r\n      setNewName('')\r\n      setNewNumber('')\r\n      return\r\n    }\r\n    personService.create(nameObject).then((returnedPerson) => {\r\n      setPersons([...persons, returnedPerson])\r\n    })\r\n    setNewName('')\r\n    setNewNumber('')\r\n    setMessage({ text: `${newName} has been added. `, type: 'message' })\r\n    setTimeout(() => {\r\n      setMessage(null)\r\n    }, 5000)\r\n  }\r\n\r\n  const deletePerson = (id) => {\r\n    personService.deleteRecord(id)\r\n    const personsList = persons.filter((person) => person.id !== id)\r\n    setPersons(personsList)\r\n  }\r\n  const handleNameInput = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberInput = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleSearchInput = (event) => {\r\n    event.preventDefault()\r\n\r\n    setSearchTerm(event.target.value)\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <header className=\"App-header\">\r\n        <h1>Phonebook</h1>\r\n      </header>\r\n      <div className=\"AppBody\">\r\n        <Notification message={message} />\r\n        <Filter searchTerm={searchTerm} handleSearchInput={handleSearchInput} />\r\n        <h3>Add a new</h3>\r\n\r\n        <PersonForm\r\n          addPerson={addPerson}\r\n          handleNameInput={handleNameInput}\r\n          handleNumberInput={handleNumberInput}\r\n          newName={newName}\r\n          newNumber={newNumber}\r\n        />\r\n        <h3>Numbers</h3>\r\n        <Persons\r\n          persons={persons}\r\n          searchTerm={searchTerm}\r\n          deletePerson={deletePerson}\r\n          setMessage={setMessage}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n"],"sourceRoot":""}